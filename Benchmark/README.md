
## Build and run
To download dependencies and build the executable jar-file, do:
```
mvn clean dependency:copy-dependencies package
```

Then run the benchmark with:
```
java -jar target/benchmark-1.0-SNAPSHOT.jar "path to benchmark config file"
```
or use the following to generate the default config file and then exit:
```
java -jar target/benchmark-1.0-SNAPSHOT.jar --default-config
```

## Default config
Example of the default config generated by the benchmark. For documentation of each setting, see the javadoc for `ConfigFile.java`.

File-/folder-paths and database-credentials must be specified before the config file can be used. 
```
benchmark.rngseed = 1234

serialization.enabled = false
serialization.path    = FOLDER PATH

generator.enabled                    = true
generator.data.idmap                 = FILE PATH
generator.data.folder                = FOLDER PATH
generator.data.generationinterval    = 60
generator.data.sourceinterval        = 60
generator.data.scale                 = 1.0
generator.data.startdate             = 2019-01-01
generator.data.enddate               = 2019-04-01
generator.data.keepfloorassociations = true
generator.data.createdebugtables     = false
generator.output.targets             = influx
generator.output.filepath            = TARGET FILE PATH

ingest.enabled               = true
ingest.threads               = 1
ingest.target                = influx
ingest.target.recreate       = false
ingest.target.sharedinstance = true
ingest.startdate             = 2019-04-01
ingest.speed                 = -1
ingest.reportfrequency       = -1
ingest.standaloneduration    = -1

queries.enabled               = true
queries.threads               = 1
queries.target.sharedinstance = false
queries.target                = influx
queries.duration.time         = 60
queries.duration.warmup       = -1
queries.duration.count        = -1
queries.weight.floortotals    = 1
queries.weight.totalclients   = 1
queries.earliestdate          = 2019-01-01
queries.range.day             = 0.5
queries.range.week            = 1
queries.range.month           = 2
queries.range.year            = 3
queries.lambdaparameter       = 1
queries.reportfrequency       = -1
queries.interval.min          = 21600
queries.interval.max          = 7776000

influx.dbname          = benchmark
influx.password        = PASSWORD
influx.username        = USERNAME
influx.table           = generated
influx.url             = http://localhost:8086
influx.batch.flushtime = 1000
influx.batch.size      = 10000

timescale.dbname                = benchmark
timescale.username              = USERNAME
timescale.password              = PASSWORD
timescale.table                 = generated
timescale.host                  = localhost:5432
timescale.rewritebatchedinserts = true
timescale.batchsize             = 1000
```
